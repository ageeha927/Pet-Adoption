<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration</title>
</head>
<body>
    <div id="userContainer">
        <!-- Check if email has been submitted; if not, ask for email -->
        <% if (!emailSubmitted) { %>
            <form action="/submitEmail" method="post">
                <h2>Enter Email</h2>
                <label for="email">Email:</label>
                <input type="email" name="email" required>
                <button type="submit">Submit</button>
            </form>
        
        <!-- If email is submitted and exists, show login form with email pre-filled -->
        <% } else if (emailExists) { %>
            <form action="/login" method="post">
                <h2>Welcome back! Please log in.</h2>
                <label for="email">Email:</label>
                <input type="email" name="email" value="<%= email %>" readonly>
                <label for="password">Password:</label>
                <input type="password" name="password" required>
                <button type="submit">Login</button>
            </form>
        
        <!-- If email is submitted and does not exist, show signup form with email pre-filled -->
        <% } else { %>
            <form action="/signup" method="post">
                <h2>Email not found. Please sign up.</h2>
                <label for="email">Email:</label>
                <input type="email" name="email" value="<%= email %>" readonly>
                <label for="password">Create Password:</label>
                <input type="password" name="password" required>
                <button type='submit'>Sign Up</button>
            </form>
        <% } %>
    </div>
</body>
</html>
